<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’° TOPUP MONEY - NanSMP Store</title>
<link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:url('https://i.imgur.com/ZskENbp.jpeg') center/cover no-repeat fixed;color:#fff;display:flex;flex-direction:column;min-height:100vh}
body::before{content:'';position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(6px);z-index:-1}
main{flex:1;display:flex;align-items:center;justify-content:center;padding:20px}
.box{background:rgba(0,0,0,0.65);padding:30px 25px;border-radius:16px;text-align:center;max-width:500px;width:100%;box-shadow:0 8px 20px rgba(0,0,0,0.6)}
.box h2{font-family:'Minecraft',monospace;font-size:28px;margin-bottom:20px}
.box p{color:#aaa;margin:6px 0;font-size:14px}
.box p span.player{color:#00ff00;font-weight:bold}
.input-group{display:flex;justify-content:center;margin:15px 0}
.input-group input{padding:10px;border-radius:10px;border:none;outline:none;width:60%;font-size:14px;background:rgba(0,0,0,0.3);color:#fff}
.box button{padding:12px 20px;margin-top:10px;border:none;border-radius:14px;background:linear-gradient(135deg,#00ff00,#008000);color:#fff;font-weight:bold;cursor:pointer;width:70%;font-size:16px}
.box button:hover{background:linear-gradient(135deg,#008000,#00ff00)}
.money-result{margin-top:12px;font-size:16px;color:#fff}
.money-note{margin-top:8px;font-size:12px;color:#aaa}
footer{padding:20px;text-align:center;background:rgba(0,0,0,.7);border-radius:16px;margin-top:auto}
footer a{color:#00bfff;text-decoration:none}
footer a:hover{text-decoration:underline}
</style>
</head>
<body>
<main>
<div class="box">
<h2>ðŸ’° TOPUP MONEY</h2>
<p>Kamu sudah Masuk/Login!</p>
<p>Nama: <span class="player" id="player-name">Player123</span></p>
<div class="input-group">
<input type="number" id="rupiah-input" placeholder="Masukkan jumlah Rupiah">
</div>
<div class="money-result" id="money-result">Total Money: 0</div>
<p class="money-note">Money server reset setiap 3 bulan.</p>
<button id="buy-btn">BELI SEKARANG</button>
</div>
</main>
<footer>
<p>Â© NanSMP, All rights reserved</p>
<p>
<a href="syarat-ketentuan.html">Syarat & Ketentuan</a> |
<a href="https://discord.gg/4KPhCnvQyf">Discord</a> |
<a href="https://whatsapp.com/channel/0029VaqnH97L7UVWBeMAyX2I">WhatsApp</a>
</p>
<p><a href="https://store.nansmp.net" target="_blank">store.nansmp.net</a></p>
<p style="color:#ccc;font-size:12px;margin-top:6px;">NanSMP tidak berafiliasi dengan Mojang Studios atau Microsoft.</p>
</footer>

<script>
// Ambil player dari URL atau localStorage
const urlParams = new URLSearchParams(window.location.search);
const playerName = urlParams.get('player') || localStorage.getItem('player') || 'Player123';
document.getElementById('player-name').textContent = playerName;

// Kalkulator Money
const rupiahInput = document.getElementById('rupiah-input');
const moneyResult = document.getElementById('money-result');
function calcMoney(rp){ return rp*60; } // Contoh konversi
function formatMoney(money){
    if(money>=1_000_000_000_000){let t=money/1_000_000_000_000;if(t>10)t=10;return t.toFixed(1).replace(/\.0$/,'')+'t'}
    else if(money>=1_000_000_000){return (money/1_000_000_000).toFixed(1).replace(/\.0$/,'')+'b'}
    else if(money>=1_000_000){return (money/1_000_000).toFixed(1).replace(/\.0$/,'')+'m'}
    else if(money>=1000){return (money/1000).toFixed(1).replace(/\.0$/,'')+'k'}
    else{return money}
}
rupiahInput.addEventListener('input',()=>{
    let rp=parseFloat(rupiahInput.value);
    if(isNaN(rp)||rp<=0){moneyResult.textContent='Total Money: 0';return;}
    let money=calcMoney(rp);
    moneyResult.innerHTML='Total Money: <span style="color:#00ff00">'+formatMoney(money)+'</span>';
});

// Tombol beli ke WhatsApp
document.getElementById('buy-btn').addEventListener('click',()=>{
    let rp = parseFloat(rupiahInput.value) || 0;
    if(rp<=0){alert('Masukkan jumlah Rupiah!'); return;}
    let money = calcMoney(rp);

    // Waktu lokal WIB, WITA, WIT
    let now = new Date();
    let pad = n=>n.toString().padStart(2,'0');
    let day = ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'][now.getDay()];
    let wib = pad(now.getHours())+':'+pad(now.getMinutes())+' WIB';
    let wita = pad(now.getHours()+1)+':'+pad(now.getMinutes())+' WITA';
    let wit = pad(now.getHours()+2)+':'+pad(now.getMinutes())+' WIT';
    let dateStr = `${pad(now.getDate())}/${now.getMonth()+1}/${now.getFullYear()}, ${day}, ${wib}, ${wita}, ${wit}`;

    let msg = `---------------TOPUP MONEY-----------------
Nama Minecraft: ${playerName}
Tanggal/Tahun: ${dateStr}
Jumlah money: ${money}
Harga: Rp. ${rupiahInput.value}
--------------------------------------------------------`;

    let waLink = 'https://wa.me/628781111111?text=' + encodeURIComponent(msg);
    window.open(waLink,'_blank');
});
</script>
</body>
</html>
